import streamlit as st  
import google.generativeai as genai  
  
# --- ุชูุธูุงุช ุตูุญู ---  
st.set_page_config(page_title="ุงุณุชุงุฏ ููุดููุฏ ูุตุฑ", page_icon="๐บ", layout="centered")  
  
# --- ุงุณุชุงู ุฏู ุธุงูุฑ ---  
st.markdown("""  
    <style>  
    .main { background-color: #fdf5e6; }  
    .stButton>button { width: 100%; border-radius: 20px; height: 3em; background-color: #d4af37; color: white; }  
    </style>  
    """, unsafe_content_type=True)  
  
# --- ุชูุธูุงุช ููุด ูุตููุน (Gemini) ---  
# ูฺฉุชู: ุจุฑุง ฺฉุงุฑฺฉุฑุฏู ุงู ุจุฎุด ุจุงุฏ API Key ุฎูุฏ ุฑุง ุงุฒ Google AI Studio ุจฺฏุฑุฏ  
genai.configure(api_key="YOUR_API_KEY")   
model = genai.GenerativeModel('gemini-pro')  
  
# ูุญุชูุง ุงุณุชุฎุฑุงุฌ ุดุฏู ุงุฒ ุฌุฒููโูุง ุดูุง ุจุฑุง ุชุบุฐู ููุด ูุตููุน  
KNOWLEDGE_BASE = """  
ูุตุฑ ุดุงูู ุฏู ุจุฎุด ุจูุฏ: ูุตุฑ ุณูู (ุดูุงูุ ุญุงุตูุฎุฒ) ู ูุตุฑ ุนูุง (ุฌููุจุ ฺฉููุณุชุงู). ูุงุฑูุฑ ุงู ุฏู ุฑุง ูุชุญุฏ ฺฉุฑุฏ.  
ููููู ฺฉุง (Ka): ุฑูุญ ุญุงุช ฺฉู ุจุงุฏ ุจู ุจุฏู ุจุงุฒฺฏุฑุฏุฏ. ุจู ููู ุฏูู ูููุง ู ููุจุฑู (ูุตุทุจูุ ูุฑู) ููู ุจูุฏ.  
ูพุฑุณูพฺฉุชู ูุฑุงฺฉุณููุงู: ุณุฑ ููโุฑุฎุ ฺุดู ุชูุงูโุฑุฎุ ุจุฏู ุชูุงูโุฑุฎ ุจุฑุง ููุงุด ฺฉุงููโุชุฑู ุญุงูุช ุจุฏู.  
ููุฑ ุนูุงุฑูู: ุฏูุฑู ุขุฎูุงุชูุ ูุฐูุจ ุขุชู (ุฎูุฑุดุฏ)ุ ููุฑ ูุงุชูุฑุงูุณุช ู ุตููุ ุญุฐู ูพุฑุณูพฺฉุชู ููุงู.  
ุฒุจุงโุดูุงุณ ุณุงุจูุงู: ูุนูุงุฑ ุนุธู ุจุฑุง ุงุฌุงุฏ ุญุณ ุญูุงุฑุช ู ูุฏุฑุช ูุฑุงุฒูุงู ูุฑุนูู.  
"""  
  
# --- ููู ฺฉูุงุฑ ---  
st.sidebar.image("https://img.icons8.com/color/96/000000/egyptian-sphinx.png")  
st.sidebar.title("ฺฉูุงุณ ูุฌุงุฒ ูุตุฑ")  
menu = st.sidebar.radio("ฺฉุฌุง ุจุฑูุ", ["ูุทุงูุนู ุฌุฒูู", "ฺฏูุชฺฏู ุจุง ุงุณุชุงุฏ", "ุขุฒููู ุณุฑุน"])  
  
if menu == "ูุทุงูุนู ุฌุฒูู":  
    st.header("๐ ุฎูุงุตู ูฺฉุงุช ุทูุง ุฌุฒูู")  
    tab1, tab2 = st.tabs(["ูุนูุงุฑ ู ุจุงูุฑูุง", "ููุฑ ู ุชุตูุฑุณุงุฒ"])  
    with tab1:  
        st.write("### ฺุฑุง ููุจุฑูโูุง ุณูฺฏ ุจูุฏ ุงูุง ฺฉุงุฎโูุง ฺฏูุ")  
        st.info("ฺูู ููุจุฑู ุฌุงฺฏุงู ุงุจุฏ 'ฺฉุง' ุจูุฏ ู ุจุงุฏ ุชุง ุงุจุฏ ูโูุงูุฏุ ุงูุง ุฒูุฏฺฏ ุฏูู ฺฏุฐุฑุง ุจูุฏ.")  
        st.write("### ุงููุงุน ููุจุฑูโูุง:")  
        st.markdown("- **ูุตุทุจู:** ุงููู ููุน ููุจุฑู (ุชุฎุชโูุงููุฏ)\n- **ูุฑู ูพูฺฉุงู:** ูุซู ูุฑู ุฒูุณุฑ\n- **ูุฑู ฺฉุงูู:** ุงูุฑุงู ุฌุฒู (ูพุงุฏุงุฑุชุฑู ูุฑู ููุฏุณ)")  
    with tab2:  
        st.write("### ููุงุนุฏ ุชุฑุณู ุจุฏู (ูุฑุงฺฉุณููุงู):")  
        st.warning("ูุฏู ุงู ุจูุฏ ฺฉู ูฺ ุนุถู ุงุฒ ุจุฏู ุฏุฑ ุขู ุฏูุง ูุงูุต ูุจุงุดุฏ!")  
        st.image("https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Egypt_Hieroglyph_A1.svg/1200px-Egypt_Hieroglyph_A1.svg.png", width=100)  
  
elif menu == "ฺฏูุชฺฏู ุจุง ุงุณุชุงุฏ":  
    st.header("๐จโ๐ซ ุณูุงูุช ุฑู ุงุฒ ุงุณุชุงุฏ ุจูพุฑุณ")  
    if "messages" not in st.session_state:  
        st.session_state.messages = []  
  
    for m in st.session_state.messages:  
        with st.chat_message(m["role"]):  
            st.markdown(m["content"])  
  
    prompt = st.chat_input("ูุซูุงู ุจูพุฑุณ: ูพุฑุณูพฺฉุชู ููุงู ุนู ฺุ")  
    if prompt:  
        st.session_state.messages.append({"role": "user", "content": prompt})  
        with st.chat_message("user"):  
            st.markdown(prompt)  
          
        # ูพุงุณุฎ ููุดููุฏ  
        full_prompt = f"ุชู ฺฉ ุงุณุชุงุฏ ุชุงุฑุฎ ููุฑ ูุณุช. ุจุฑ ุงุณุงุณ ุงู ุงุทูุงุนุงุช: {KNOWLEDGE_BASE} ุจู ุงู ุณูุงู ูพุงุณุฎ ฺฉูุชุงู ู ุฌุฐุงุจ ุจุฏู: {prompt}"  
        response = model.generate_content(full_prompt)  
          
        with st.chat_message("assistant"):  
            st.markdown(response.text)  
            st.session_state.messages.append({"role": "assistant", "content": response.text})  
  
elif menu == "ุขุฒููู ุณุฑุน":  
    st.header("โ๏ธ ฺุงูุด ุงุทูุงุนุงุช")  
    st.write("ุจุจูู ฺูุฏุฑ ุงุฏุช ูููุฏู!")  
    q1 = st.radio("ฺฉุฏุงู ูพุงุฏุดุงู ุฏู ูุตุฑ ุฑุง ูุชุญุฏ ฺฉุฑุฏุ", ["ุชูุชโุนูุฎโุขููู", "ูุงุฑูุฑ (ููุณ)", "ุขุฎูุงุชู"])  
    if st.button("ุซุจุช ูพุงุณุฎ"):  
        if q1 == "ูุงุฑูุฑ (ููุณ)":  
            st.success("ุขูุฑู! ุฏุฑุณุช ุจูุฏ. ุทุจู ุฌุฒูู ุตูุญู ฑ.")  
        else:  
            st.error("ุงุดุชุจุงู ุจูุฏ! ุฏูุจุงุฑู ุฌุฒูู ุฑู ุจุฎูู.")  
  
st.sidebar.hr()  
st.sidebar.write("โ๏ธ ุงู ุงูพ ุฑู ุจุฑุง ุฏูุณุชุงุช ุจูุฑุณุช")  
